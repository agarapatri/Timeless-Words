<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Deep Search - Eternal Wiz</title>
    <link rel="stylesheet" href="../css/main.css" />
    <meta name="description" content="Advanced Sanskrit scripture search with semantic understanding - discover connections across ancient texts" />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Feternalwi3558back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
</head>
<body class="bg-background text-text-primary">
    <!-- Header Navigation -->
    <header class="bg-surface border-b border-subtle sticky top-0 z-50 shadow-soft">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="homepage.html" class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2L2 7v10c0 5.55 3.84 10 9 11 1.09-.21 2.11-.71 3-1.36.89.65 1.91 1.15 3 1.36 5.16-1 9-5.45 9-11V7l-10-5z"/>
                            </svg>
                        </div>
                        <span class="font-crimson text-xl font-semibold text-primary">Eternal Wiz</span>
                    </a>
                </div>

                <!-- Navigation Links -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="homepage.html" class="text-text-secondary hover:text-primary transition-quick">Home</a>
                    <a href="library.html" class="text-text-secondary hover:text-primary transition-quick">Library</a>
                    <a href="deep_search.html" class="text-primary font-medium border-b-2 border-primary pb-1">Deep Search</a>
                    <a href="work_overview.html" class="text-text-secondary hover:text-primary transition-quick">Works</a>
                </div>

                <!-- Mobile Menu Button -->
                <button class="md:hidden p-2 rounded-lg hover:bg-surface-hover transition-quick">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Page Header -->
        <div class="text-center mb-12">
            <h1 class="font-crimson text-4xl sm:text-5xl font-semibold text-text-primary mb-4">
                Deep Search
            </h1>
            <p class="text-lg text-text-secondary max-w-3xl mx-auto">
                Discover connections across ancient texts with our advanced search capabilities. 
                Use keyword search for specific terms or semantic search to explore concepts and meanings.
            </p>
        </div>

        <!-- Search Interface -->
        <div class="max-w-4xl mx-auto mb-12">
            <!-- Search Mode Toggle -->
            <div class="flex justify-center mb-6">
                <div class="bg-surface rounded-lg p-1 shadow-soft">
                    <button id="keywordMode" class="px-6 py-2 rounded-md font-inter font-medium transition-quick bg-primary text-white">
                        Keyword Search
                    </button>
                    <button id="semanticMode" class="px-6 py-2 rounded-md font-inter font-medium transition-quick text-text-secondary hover:text-primary">
                        Semantic Search
                    </button>
                </div>
            </div>

            <!-- Main Search Bar -->
            <div class="relative mb-6">
                <div class="relative">
                    <input type="text" id="searchInput" placeholder="Search verses, concepts, or Sanskrit terms..." class="w-full px-6 py-4 text-lg border border-subtle rounded-xl bg-white shadow-soft focus:outline-none focus:ring-2 focus:ring-primary-300 focus:border-primary transition-quick pr-16" />
                    <button id="searchButton" class="absolute right-3 top-1/2 transform -translate-y-1/2 bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary-600 transition-quick font-inter font-medium">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </button>
                </div>
                
                <!-- Search Suggestions -->
                <div id="searchSuggestions" class="absolute top-full left-0 right-0 bg-white border border-subtle rounded-lg shadow-subtle mt-1 hidden z-10">
                    <div class="p-2">
                        <div class="text-sm text-text-muted mb-2">Popular searches:</div>
                        <div class="flex flex-wrap gap-2">
                            <button class="suggestion-tag px-3 py-1 bg-primary-50 text-primary rounded-full text-sm hover:bg-primary-100 transition-quick">dharma</button>
                            <button class="suggestion-tag px-3 py-1 bg-primary-50 text-primary rounded-full text-sm hover:bg-primary-100 transition-quick">karma</button>
                            <button class="suggestion-tag px-3 py-1 bg-primary-50 text-primary rounded-full text-sm hover:bg-primary-100 transition-quick">moksha</button>
                            <button class="suggestion-tag px-3 py-1 bg-primary-50 text-primary rounded-full text-sm hover:bg-primary-100 transition-quick">atman</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Semantic Search Notice -->
            <div id="semanticNotice" class="card bg-accent-50 border border-accent-200 mb-6 hidden">
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-accent-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                        <svg class="w-5 h-5 text-accent-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <h3 class="font-crimson text-lg font-semibold text-accent-800 mb-2">Enable Deep Meaning Search</h3>
                        <p class="text-accent-700 mb-3">
                            One-time local download to enable deep meaning search across Sanskrit concepts. 
                            This allows you to find verses by meaning, not just exact words.
                        </p>
                        <button id="enableSemantic" class="bg-accent text-white px-4 py-2 rounded-lg font-inter font-medium hover:bg-accent-600 transition-quick">
                            Download Semantic Model (2.5MB)
                        </button>
                    </div>
                </div>
            </div>

            <!-- Advanced Filters -->
            <div class="card mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-crimson text-lg font-semibold text-text-primary">Advanced Filters</h3>
                    <button id="toggleFilters" class="text-primary hover:text-primary-600 transition-quick">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"/>
                        </svg>
                    </button>
                </div>
                
                <div id="filterOptions" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- Scripture Filter -->
                    <div>
                        <label class="block text-sm font-medium text-text-secondary mb-2">Scripture</label>
                        <select class="w-full px-3 py-2 border border-subtle rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary-300 focus:border-primary transition-quick">
                            <option value>All Scriptures</option>
                            <option value="bhagavad-gita">Bhagavad Gita</option>
                            <option value="upanishads">Principal Upanishads</option>
                            <option value="ramayana">Valmiki Ramayana</option>
                            <option value="mahabharata">Mahabharata</option>
                            <option value="puranas">Puranas</option>
                        </select>
                    </div>

                    <!-- Chapter Filter -->
                    <div>
                        <label class="block text-sm font-medium text-text-secondary mb-2">Chapter/Section</label>
                        <select class="w-full px-3 py-2 border border-subtle rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary-300 focus:border-primary transition-quick">
                            <option value>All Chapters</option>
                            <option value="1">Chapter 1</option>
                            <option value="2">Chapter 2</option>
                            <option value="3">Chapter 3</option>
                            <option value="4">Chapter 4</option>
                            <option value="5">Chapter 5</option>
                        </select>
                    </div>

                    <!-- Concept Category -->
                    <div>
                        <label class="block text-sm font-medium text-text-secondary mb-2">Concept Category</label>
                        <select class="w-full px-3 py-2 border border-subtle rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary-300 focus:border-primary transition-quick">
                            <option value>All Categories</option>
                            <option value="philosophy">Philosophy</option>
                            <option value="ethics">Ethics & Dharma</option>
                            <option value="devotion">Devotion & Bhakti</option>
                            <option value="knowledge">Knowledge & Wisdom</option>
                            <option value="action">Action & Karma</option>
                        </select>
                    </div>
                </div>

                <!-- Reset Filters -->
                <div class="mt-4 pt-4 border-t border-subtle">
                    <button id="resetFilters" class="text-text-muted hover:text-primary transition-quick text-sm font-inter">
                        <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                        </svg>
                        Reset all filters
                    </button>
                </div>
            </div>

            <!-- Search Examples -->
            <div class="card bg-surface-hover">
                <h3 class="font-crimson text-lg font-semibold text-text-primary mb-3">Search Examples</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <h4 class="font-medium text-text-primary mb-2">Keyword Search:</h4>
                        <ul class="space-y-1 text-sm text-text-secondary">
                            <li>• "dharma" - Find exact Sanskrit term</li>
                            <li>• "righteous duty" - English translation</li>
                            <li>• "अर्जुन" - Devanāgarī script</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-medium text-text-primary mb-2">Semantic Search:</h4>
                        <ul class="space-y-1 text-sm text-text-secondary">
                            <li>• "purpose of life" - Conceptual meaning</li>
                            <li>• "overcoming fear" - Emotional themes</li>
                            <li>• "divine nature" - Spiritual concepts</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Search History -->
        <div class="max-w-4xl mx-auto mb-12">
            <div class="card">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-crimson text-lg font-semibold text-text-primary">Recent Searches</h3>
                    <button id="clearHistory" class="text-text-muted hover:text-primary transition-quick text-sm">
                        Clear history
                    </button>
                </div>
                
                <div id="searchHistory" class="space-y-2">
                    <div class="flex items-center justify-between p-3 bg-surface rounded-lg hover:bg-surface-hover transition-quick cursor-pointer">
                        <div class="flex items-center space-x-3">
                            <div class="w-2 h-2 bg-primary rounded-full"></div>
                            <span class="text-text-primary">dharma and righteousness</span>
                            <span class="text-xs text-text-muted bg-primary-50 px-2 py-1 rounded">Semantic</span>
                        </div>
                        <div class="text-sm text-text-muted">2 hours ago</div>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 bg-surface rounded-lg hover:bg-surface-hover transition-quick cursor-pointer">
                        <div class="flex items-center space-x-3">
                            <div class="w-2 h-2 bg-secondary rounded-full"></div>
                            <span class="text-text-primary">karma yoga</span>
                            <span class="text-xs text-text-muted bg-secondary-50 px-2 py-1 rounded">Keyword</span>
                        </div>
                        <div class="text-sm text-text-muted">Yesterday</div>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 bg-surface rounded-lg hover:bg-surface-hover transition-quick cursor-pointer">
                        <div class="flex items-center space-x-3">
                            <div class="w-2 h-2 bg-primary rounded-full"></div>
                            <span class="text-text-primary">nature of the soul</span>
                            <span class="text-xs text-text-muted bg-primary-50 px-2 py-1 rounded">Semantic</span>
                        </div>
                        <div class="text-sm text-text-muted">3 days ago</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Saved Searches -->
        <div class="max-w-4xl mx-auto mb-12">
            <div class="card">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-crimson text-lg font-semibold text-text-primary">Saved Searches</h3>
                    <button class="text-primary hover:text-primary-600 transition-quick text-sm font-inter">
                        <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                        </svg>
                        Save current search
                    </button>
                </div>
                
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-4 border border-subtle rounded-lg">
                        <div class="flex items-center space-x-3">
                            <svg class="w-5 h-5 text-accent" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
                            </svg>
                            <div>
                                <div class="font-medium text-text-primary">Bhakti and Devotion Research</div>
                                <div class="text-sm text-text-muted">Semantic search in Bhagavad Gita</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button class="text-primary hover:text-primary-600 transition-quick">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                </svg>
                            </button>
                            <button class="text-text-muted hover:text-error transition-quick">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-4 border border-subtle rounded-lg">
                        <div class="flex items-center space-x-3">
                            <svg class="w-5 h-5 text-accent" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
                            </svg>
                            <div>
                                <div class="font-medium text-text-primary">Dharma in Daily Life</div>
                                <div class="text-sm text-text-muted">Cross-scripture keyword search</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button class="text-primary hover:text-primary-600 transition-quick">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                </svg>
                            </button>
                            <button class="text-text-muted hover:text-error transition-quick">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Access Tools -->
        <div class="max-w-4xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Cross-Reference Discovery -->
                <div class="card text-center cursor-pointer hover:shadow-subtle transition-all" onclick="window.location.href='search_results.html'">
                    <div class="w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
                        </svg>
                    </div>
                    <h3 class="font-crimson text-lg font-semibold text-text-primary mb-2">Cross-Reference</h3>
                    <p class="text-text-secondary text-sm">Discover connections between verses across different scriptures</p>
                </div>

                <!-- Concept Explorer -->
                <div class="card text-center cursor-pointer hover:shadow-subtle transition-all">
                    <div class="w-12 h-12 bg-accent-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-6 h-6 text-accent-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                        </svg>
                    </div>
                    <h3 class="font-crimson text-lg font-semibold text-text-primary mb-2">Concept Explorer</h3>
                    <p class="text-text-secondary text-sm">Explore philosophical concepts and their interconnections</p>
                </div>

                <!-- Export Results -->
                <div class="card text-center cursor-pointer hover:shadow-subtle transition-all">
                    <div class="w-12 h-12 bg-secondary-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-6 h-6 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                        </svg>
                    </div>
                    <h3 class="font-crimson text-lg font-semibold text-text-primary mb-2">Export Results</h3>
                    <p class="text-text-secondary text-sm">Download search results for offline study and research</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-text-primary text-white py-16 mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Brand -->
                <div class="space-y-4">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2L2 7v10c0 5.55 3.84 10 9 11 1.09-.21 2.11-.71 3-1.36.89.65 1.91 1.15 3 1.36 5.16-1 9-5.45 9-11V7l-10-5z"/>
                            </svg>
                        </div>
                        <span class="font-crimson text-xl font-semibold">Eternal Wiz</span>
                    </div>
                    <p class="text-gray-300">
                        Where tradition meets technology in the study of ancient Sanskrit wisdom.
                    </p>
                </div>

                <!-- Quick Links -->
                <div>
                    <h3 class="font-crimson text-lg font-semibold mb-4">Explore</h3>
                    <ul class="space-y-2">
                        <li><a href="library.html" class="text-gray-300 hover:text-white transition-quick">Scripture Library</a></li>
                        <li><a href="deep_search.html" class="text-gray-300 hover:text-white transition-quick">Semantic Search</a></li>
                        <li><a href="verse_reader.html" class="text-gray-300 hover:text-white transition-quick">Verse Reader</a></li>
                        <li><a href="work_overview.html" class="text-gray-300 hover:text-white transition-quick">Featured Works</a></li>
                    </ul>
                </div>

                <!-- Resources -->
                <div>
                    <h3 class="font-crimson text-lg font-semibold mb-4">Resources</h3>
                    <ul class="space-y-2">
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-quick">About Project</a></li>
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-quick">Methodology</a></li>
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-quick">GitHub Repository</a></li>
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-quick">Vedabase.io</a></li>
                    </ul>
                </div>

                <!-- Contact -->
                <div>
                    <h3 class="font-crimson text-lg font-semibold mb-4">Connect</h3>
                    <ul class="space-y-2">
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-quick">Academic Partnerships</a></li>
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-quick">Research Collaboration</a></li>
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-quick">Support</a></li>
                        <li><a href="javascript:void(0)" class="text-gray-300 hover:text-white transition-quick">Feedback</a></li>
                    </ul>
                </div>
            </div>

            <div class="border-t border-gray-700 mt-12 pt-8 text-center">
                <p class="text-gray-300">
                    © 2025 Eternal Wiz. Open source project dedicated to preserving and sharing ancient wisdom.
                </p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Search mode toggle
            const keywordMode = document.getElementById('keywordMode');
            const semanticMode = document.getElementById('semanticMode');
            const semanticNotice = document.getElementById('semanticNotice');
            const searchInput = document.getElementById('searchInput');

            keywordMode.addEventListener('click', function() {
                keywordMode.classList.add('bg-primary', 'text-white');
                keywordMode.classList.remove('text-text-secondary');
                semanticMode.classList.remove('bg-primary', 'text-white');
                semanticMode.classList.add('text-text-secondary');
                semanticNotice.classList.add('hidden');
                searchInput.placeholder = 'Search verses, concepts, or Sanskrit terms...';
            });

            semanticMode.addEventListener('click', function() {
                semanticMode.classList.add('bg-primary', 'text-white');
                semanticMode.classList.remove('text-text-secondary');
                keywordMode.classList.remove('bg-primary', 'text-white');
                keywordMode.classList.add('text-text-secondary');
                semanticNotice.classList.remove('hidden');
                searchInput.placeholder = 'Describe concepts or meanings you want to explore...';
            });

            // Search suggestions
            const searchSuggestions = document.getElementById('searchSuggestions');
            const suggestionTags = document.querySelectorAll('.suggestion-tag');

            searchInput.addEventListener('focus', function() {
                if (searchInput.value.length === 0) {
                    searchSuggestions.classList.remove('hidden');
                }
            });

            searchInput.addEventListener('blur', function() {
                setTimeout(() => {
                    searchSuggestions.classList.add('hidden');
                }, 200);
            });

            suggestionTags.forEach(tag => {
                tag.addEventListener('click', function() {
                    searchInput.value = tag.textContent;
                    searchSuggestions.classList.add('hidden');
                    performSearch();
                });
            });

            // Search functionality
            const searchButton = document.getElementById('searchButton');
            
            function performSearch() {
                const query = searchInput.value.trim();
                if (query) {
                    // Add to search history
                    addToSearchHistory(query);
                    // Navigate to search results
                    window.location.href = `search_results.html?q=${encodeURIComponent(query)}`;
                }
            }

            searchButton.addEventListener('click', performSearch);
            
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });

            // Search history management
            function addToSearchHistory(query) {
                const isSemanticMode = semanticMode.classList.contains('bg-primary');
                const searchType = isSemanticMode ? 'Semantic' : 'Keyword';
                
                // In a real app, this would save to localStorage
                console.log(`Added to history: ${query} (${searchType})`);
            }

            // Enable semantic search
            const enableSemantic = document.getElementById('enableSemantic');
            enableSemantic.addEventListener('click', function() {
                enableSemantic.textContent = 'Downloading...';
                enableSemantic.disabled = true;
                
                // Simulate download
                setTimeout(() => {
                    enableSemantic.textContent = 'Semantic Search Enabled ✓';
                    enableSemantic.classList.add('bg-success', 'cursor-not-allowed');
                    enableSemantic.classList.remove('bg-accent', 'hover:bg-accent-600');
                }, 2000);
            });

            // Filter toggle
            const toggleFilters = document.getElementById('toggleFilters');
            const filterOptions = document.getElementById('filterOptions');
            
            toggleFilters.addEventListener('click', function() {
                filterOptions.classList.toggle('hidden');
            });

            // Reset filters
            const resetFilters = document.getElementById('resetFilters');
            resetFilters.addEventListener('click', function() {
                const selects = filterOptions.querySelectorAll('select');
                selects.forEach(select => {
                    select.selectedIndex = 0;
                });
            });

            // Clear search history
            const clearHistory = document.getElementById('clearHistory');
            clearHistory.addEventListener('click', function() {
                if (confirm('Clear all search history?')) {
                    const historyItems = document.querySelectorAll('#searchHistory > div');
                    historyItems.forEach(item => {
                        item.style.opacity = '0';
                        setTimeout(() => item.remove(), 300);
                    });
                }
            });

            // Search history item clicks
            const historyItems = document.querySelectorAll('#searchHistory > div');
            historyItems.forEach(item => {
                item.addEventListener('click', function() {
                    const searchTerm = item.querySelector('span').textContent;
                    searchInput.value = searchTerm;
                    performSearch();
                });
            });
        });
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>